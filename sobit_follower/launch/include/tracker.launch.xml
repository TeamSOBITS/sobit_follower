<launch>
    <arg name="manager_name"            default="nodelet_manager" />
    <arg name="manager_threads"         default="4" />

    <arg name="use_rotate"              default="true"/>

    <include file="$(find multiple_sensor_person_tracking)\launch\dr_spaam\dr_spaam_ros_service.launch" />

    <group ns = "multiple_sensor_person_tracking">
        <node pkg="nodelet" type="nodelet" name="$(arg manager_name)" args="manager" output="screen">
            <param name="num_worker_threads" value="$(arg manager_threads)" />
        </node>

        <node pkg="nodelet" type="nodelet" name="person_tracker" args="load multiple_sensor_person_tracking/PersonTracker $(arg manager_name)" >
            <rosparam file="$(find sobit_follower)/param/topic_params.yaml" command="load" />
            <rosparam file="$(find sobit_follower)/param/ssd_params.yaml" command="load" />
            <rosparam file="$(find sobit_follower)/param/kalman_filter_params.yaml" command="load" />
            <rosparam file="$(find sobit_follower)/param/tracking_params.yaml" command="load" />
        </node>

        <node pkg="nodelet" type="nodelet" name="sensor_rotator" args="load multiple_sensor_person_tracking/PersonAimSensorRotator $(arg manager_name)" >
            <rosparam file="$(find sobit_follower)/param/sensor_rotator_param.yaml" command="load" />
            <param name="use_rotate" value="$(arg use_rotate)" />
        </node>
    </group>
</launch>